## 1.中心度与相似性

在风控领域中，节点的活跃度越高意味着其风险程度越高，活跃的样本意味着更大的欺诈风险。因此可以使用中心度来衡量网络中每一个节点的活跃程度

![image-20200303203924334](/Volumes/disk2/Basic-Algorithm/z智能风控/img/graph.png)

~~~
图中对应的每个节点的度如下所示
[('n1', 3), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 3), ('n6', 2), ('n7', 3), ('n8', 5), ('n9', 4), ('n10', 3), ('n11', 3), ('n12', 2), ('n13', 3), ('n14', 4), ('n15', 3), ('n16', 3), ('n17', 1), ('n18', 5)]
~~~

直接使用节点的度来衡量用户在网络中的中心度，没有考虑到其邻居节点的信息，eigenvector基本思想就是其一个节点的活跃度不应该只体现在它有大量的边，同时它的邻居也应该是活跃的,因此定义中心度为$C(B)=\frac{1}{\lambda}[C(A)+C(D)]$，eigenvector在无向图中有很好的表现，但是在有向图中，因为某个节点可能只有出边而没有入边，因此可能导致其相邻节点无法进行迭代运算，因此在eigenvector方法上再进行改进，考虑到给每一个节点一个初始的中心度

![image-20200303210430444](/Volumes/disk2/Basic-Algorithm/z智能风控/img/graph1.png)

图中C节点的中心度给与一个初始值β，这时候B节点的Eigenvecor的中心度为$C(B)=\alpha \cdot{[c(A)+c(B)]+\beta}$

整个网络的中心度会随着不断迭代计算而趋于稳定

> 计算eigenvector_centrality
>
> {'A': 0.004444367446311761, 'B': 0.9999901236407384, 'E': 1.4798042889205408e-05, 'D': 3.2811544463535e-08, 'C': 3.6336151122408683e-11}，从中也可以看到B的中心度是最高的

与此同时，在计算Eigenvector中心度的时候,每条出边都会带上其余节点的完整中心度，这显然是不合理的，因此在PageRank中心度的计算中，假设一个节点的出度为n时，其每条边只能带上1/n的中心度，因此PageRank中心度的计算公式为$c(B)=\alpha \cdot[1\cdot C(A)+\frac{1}{2}c(C)]+\beta$

> pageRank
>
> {'A': 0.25284918897619874, 'B': 0.3400484232695222, 'E': 0.19416664459127922, 'D': 0.12512724392856212, 'C': 0.0878084992344377} 从中也可以看到B具有较高的中心度

同时还有另外一种使用最短路径来描述节点相似度的方法

> Closeness_centrality
>
> {'A': 0.375, 'B': 0.5714285714285714, 'E': 0.3333333333333333, 'D': 0.25, 'C': 0.0}

从中我们发现C的中心度为0,因为其没有入边，在迭代的过程中其中心度逐渐变为0



### 应用

有了中心度和相似度的定义之后，就可以进行基本的欺诈检测规则的抽取。比如当某个节点的中心度超过某一阈值或者和其它节点的相似度超过某一个阈值，就会触发报警。